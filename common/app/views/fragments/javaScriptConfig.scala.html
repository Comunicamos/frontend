@(item: model.MetaData)(implicit request: RequestHeader)

@import common.Edition
@import dev.HttpSwitch
@import views.support.{JavaScriptPage, CamelCase}
@import play.api.libs.json.Json

@defining(Edition(request)) { edition =>
{
    "page": @Html(Json.stringify(JavaScriptPage(item, request).get)),
    "switches" : { @{Html(conf.Switches.all.map{ switch =>
            if(conf.Switches.httpSwitches.contains(switch))
                s""""${CamelCase.fromHyphenated(switch.name)}":${HttpSwitch(switch).isSwitchedOn}"""
            else
                s""""${CamelCase.fromHyphenated(switch.name)}":${switch.isSwitchedOn}"""
        }.mkString(","))}
    },
    "modules": { }
}
}
